<section>
    <div class="section">
        <div >
            <p class="m-3"><strong> <h2>Admin Dashboard</h2></strong></p>
        </div>   
    </div>
     
    
    

    <div class=" card shadow-lg p-2 mb-3 bg-white  marginall ">
        <!-- <button type="button" class="btn btn-primary button2 float - right m-2 " 
            data-toggle="modal" data-target="#exampleModal"
            (click)="addClick()"
            data-backdrop="static" data-keyboard="false">
            Add Bill
        </button> -->


    
    <!-- Modal -->
    <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal" role="document">
        <div class="modal-content">
            <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">{{modalHead}}</h5>
            <button type="button" class="close" 
            data-dismiss="modal" aria-label="Close"
            (click)="closeClick()" >
                <span aria-hidden="true">&times;</span>
            </button>
            </div>
            <div class="modal-body">
                <div class="modalf">
                    <div *ngIf = "ModalRemarks!=null">
                        <p><strong>User Remark : </strong>{{ModalRemarks}}</p>
                    </div>
                    <div>
                        <p><strong>{{ModalTitle}}</strong></p>
                    </div>
                    <div>
                        
                        <svg  data-dismiss="modal" xmlns="http://www.w3.org/2000/svg" width="2em" height="2em" fill="red" class="bi bi-x-square-fill close" viewBox="0 0 16 16">
                            <path d="M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm3.354 4.646L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 1 1 .708-.708z"/>
                        </svg>
                        <svg (click)="approvedecline()"xmlns="http://www.w3.org/2000/svg" data-dismiss="modal" width="2.2em" height="2.2em" fill="green" class="bi bi-check2-circle close  mr-3" viewBox="0 0 16 16">
                            <path d="M2.5 8a5.5 5.5 0 0 1 8.25-4.764.5.5 0 0 0 .5-.866A6.5 6.5 0 1 0 14.5 8a.5.5 0 0 0-1 0 5.5 5.5 0 1 1-11 0z"/>
                            <path d="M15.354 3.354a.5.5 0 0 0-.708-.708L8 9.293 5.354 6.646a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l7-7z"/>
                          </svg>
                    </div>    
                </div>
                
            </div>
        </div>
    </div>
    </div>

        <div>
            <table class="table table-striped">
                <thead>
                <tr>
                    <th scope="col">Email</th>
                    <th scope="col">Full Name</th>
                    <th scope="col">Date</th>
                    <th scope="col">Type</th>
                    <th scope="col">Amount</th>
                    <th scope="col">Payment Mode</th>
                    <th scope="col">Status</th>
                    <th scope="col">Actions</th>
                </tr>
                </thead>
                <tbody>
                    <tr>
                        <th >
                            <div >
                                <input [(ngModel)]="EmailFilter" class="form-control" style="width: 160px;"
                                (keyup)="FilterFn()" placeholder="Search By Email ID">
                            </div>      
                        </th>
                        <td >
                            <div >
                                <input [(ngModel)]="FullNameFilter" class="form-control" style="width: 150px;"
                                (keyup)="FilterFn()" placeholder="Search By Name">
                            </div>      
                        </td>
                        <!-- <td>
                            <label class="mr-4"><strong>To:</strong></label>
                            <input type="date"  id="start" name="trip-start" min="2021-09-01" max="2022-03-01"
                            [(ngModel)]="ToDate" (ngModelChange)="FilterFn()"><br>
                            <label class="mr-1"><strong>From:</strong></label>
                            <input type="date" id="stop" name="trip-stop" min="2021-09-01" max="2022-03-01"
                            [(ngModel)]="FromDate" (ngModelChange)="FilterFn()">
                        </td> -->
                        <td>
                            <label class="mr-4"><strong>To:</strong></label>
                            <input type="date"  id="start" name="trip-start" style="width: 120px;"><br>
                            <label class="mr-1"><strong>From:</strong></label>
                            <input type="date" id="stop" name="trip-stop" style="width: 120px;">
                          </td>
                        <td>
                            <div class="row-sm-10">
                                <select class="form-control" name = "type" [(ngModel)]="TypeFilter" (ngModelChange)="FilterFn()" style="width: 120px;">
                                    <option value="">--Select Type--</option>
                                    <option *ngFor="let item of BillType">
                                            {{item}}    
                                    </option>
                                </select>
                             </div>
                        </td>
                        <td> 
                            <div class="gr">
                                <div class="input-group mb-3">
                                    <div class="input-group-prepend">
                                      <span class="input-group-text" id="basic-addon1">>=</span>
                                    </div>
                                    <input type="number" class="form-control" (keyup)="FilterFn()" style="width: 60px;" [(ngModel)]="greaterthanFilter">
                                  </div>

                                 <div class="input-group mb-3">
                                    <div class="input-group-prepend">
                                      <span class="input-group-text" id="basic-addon1">&lt;=</span>
                                    </div>
                                    <input type="number" class="form-control" (keyup)="FilterFn()" style="width: 60px;" [(ngModel)]="lessthanFilter">
                                  </div>
                            </div>
                            
 
                        </td>
                        <td>
                            <div class="row-sm-10">
                                <select class="form-control" name = "Payment" [(ngModel)]="PaymentFilter" (ngModelChange)="FilterFn()" style="width: 100px;">
                                    <option value="">--Select Mode--</option>
                                    <option *ngFor="let item of paymentMode">
                                            {{item}}    
                                    </option>
                                </select>
                             </div>
                        </td>
                        <td>
                            <div class="row-sm-10">
                                <select class="form-control" name = "type" [(ngModel)]="StatusFilter" (ngModelChange)="FilterFn()" style="width: 105px;">
                                    <option value="">--Select Status--</option>
                                    <option *ngFor="let item of StatusType">
                                            {{item}}    
                                    </option>
                                </select>
                             </div>
                        </td>
                        <td></td>
                    </tr>
                <tr *ngFor = "let bill of BillList" [ngClass]="{'table-danger': bill.status=='declined','table-success':bill.status=='approved'}">
                    <th scope="row">{{bill.emailId}}</th>
                    <td>{{bill.fullName}}</td>
                    <td>{{bill.applyDate | fixdate}}</td>
                    <td>{{bill.type}}</td>
                    <td>{{bill.amount | addsign}}</td>
                    <td>{{bill.paymentMode}}</td>
                    <td>{{bill.status}}</td>
                    <td *ngIf="bill.status=='pending'">
                        <button type="button" class="btn btn-light mr-3"
                        data-toggle="modal" data-target="#exampleModal"
                        (click)="approvedClick(bill)"
                        data-backdrop="static" data-keyboard="false">
                        <svg xmlns="http://www.w3.org/2000/svg" width="1.3em" height="1.3em" fill="green" class="bi bi-check2-circle" viewBox="0 0 16 16">
                            <path d="M2.5 8a5.5 5.5 0 0 1 8.25-4.764.5.5 0 0 0 .5-.866A6.5 6.5 0 1 0 14.5 8a.5.5 0 0 0-1 0 5.5 5.5 0 1 1-11 0z"/>
                            <path d="M15.354 3.354a.5.5 0 0 0-.708-.708L8 9.293 5.354 6.646a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l7-7z"/>
                          </svg>
                          <div>Approve</div>
                        </button>
                        <button type="button" class="btn btn-light mr-1"
                        data-toggle="modal" data-target="#exampleModal"
                        (click)="declinedClick(bill)"
                        >
                        <svg   xmlns="http://www.w3.org/2000/svg" width="1.3em" height="1.3em" fill="red" class="bi bi-x-square-fill" viewBox="0 0 16 16">
                            <path d="M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm3.354 4.646L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 1 1 .708-.708z"/>
                        </svg>
                        <div>Decline</div>
                        </button>
                    </td>
                    <td *ngIf="bill.status!='pending'"></td>
                </tr>
                </tbody>
            </table>
        </div>

    </div>
</section>
